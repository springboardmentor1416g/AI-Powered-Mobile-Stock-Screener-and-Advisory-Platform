<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Professional AI-powered stock screener with advanced filtering and real-time market intelligence">
    <title>ScreenerAI Pro | Advanced Stock Market Intelligence</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-shell">
        <!-- Header Section -->
        <header class="header">
            <div class="brand">
                <div class="logo-sq" aria-hidden="true"></div>
                <span>Screener<b>AI</b></span>
                <span class="version-badge">Pro</span>
            </div>
            <div class="header-actions">
                <button class="icon-btn" id="watchlistBtn" title="View Watchlist">
  ‚≠ê Watchlist
</button>

                <button class="icon-btn" id="historyBtn" aria-label="Query History" title="View Search History">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                </button>
                <div class="status-pill" role="status" aria-live="polite">
                    <span class="status-indicator"></span>
                    System Ready
                </div>
            </div>
        </header>

        <main class="main-content">
            <!-- Search Section -->
            <section class="search-section">
                <div class="section-header">
                    <h1>Market Intelligence Platform</h1>
                    <p class="subtitle">Advanced stock screening with natural language and DSL query support</p>
                </div>
                
                <div class="search-container">
                    <!-- Query Input -->
                    <div class="query-wrapper">
                        <textarea 
                            id="queryInput" 
                            placeholder="Example: pe_ratio < 20 AND revenue_growth_yoy > 15 AND market_cap > 1B"
                            aria-label="Stock screening query"
                            rows="3"
                        ></textarea>
                        <div class="query-meta">
                            <span class="char-count" id="charCount">0 characters</span>
                            <button class="text-btn" id="clearBtn">Clear</button>
                        </div>
                    </div>

                    <!-- Query Examples -->
                    <div class="examples-section">
                        <span class="examples-label">Quick filters:</span>
                        <div class="example-chips">
                            <button class="chip" data-query="pe_ratio < 15 AND dividend_yield > 2">Value Stocks</button>
                            <button class="chip" data-query="revenue_growth_yoy > 20 AND market_cap < 2B">Growth Small-Cap</button>
                            <button class="chip" data-query="rsi < 30 AND volume > avg_volume * 2">Oversold High Volume</button>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-row">
                        <button id="runBtn" class="action-btn primary">
                            <span id="btnText">Scan Market</span>
                            <div id="loader" class="loader" aria-hidden="true"></div>
                        </button>
                        <button id="exportBtn" class="action-btn secondary" disabled>
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7 10 12 15 17 10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Export CSV
                        </button>
                    </div>
                </div>
            </section>

            <!-- Toast Notifications -->
            <div id="toastContainer" class="toast-container" role="alert" aria-live="assertive"></div>

            <!-- Results Section -->
            <section class="results-section">
                <div class="section-meta">
                    <div class="results-header">
                        <h2>Market Scan Results</h2>
                        <span id="stockCount" class="count-tag">0 Matches</span>
                    </div>
                    
                    <div class="results-controls">
                        <div class="view-toggle">
                            <button class="toggle-btn active" data-view="grid" aria-label="Grid view">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"/>
                                    <rect x="14" y="3" width="7" height="7"/>
                                    <rect x="14" y="14" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/>
                                </svg>
                            </button>
                            <button class="toggle-btn" data-view="table" aria-label="Table view">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="8" y1="6" x2="21" y2="6"/>
                                    <line x1="8" y1="12" x2="21" y2="12"/>
                                    <line x1="8" y1="18" x2="21" y2="18"/>
                                    <line x1="3" y1="6" x2="3.01" y2="6"/>
                                    <line x1="3" y1="12" x2="3.01" y2="12"/>
                                    <line x1="3" y1="18" x2="3.01" y2="18"/>
                                </svg>
                            </button>
                        </div>
                        
                        <select id="sortSelect" class="sort-select" aria-label="Sort results">
                            <option value="relevance">Sort by: Relevance</option>
                            <option value="pe_asc">P/E Ratio (Low to High)</option>
                            <option value="pe_desc">P/E Ratio (High to Low)</option>
                            <option value="market_cap_desc">Market Cap (Largest)</option>
                            <option value="volume_desc">Volume (Highest)</option>
                        </select>
                    </div>
                </div>
                
                <div id="resultsList" class="results-grid" role="region" aria-label="Stock results">
                    <div class="empty-state">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <line x1="12" y1="1" x2="12" y2="23"/>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                        <h3>Ready to scan the market</h3>
                        <p>Enter your screening criteria above or select a quick filter to begin</p>
                    </div>
                </div>
                <section class="results-section" id="watchlistSection" style="display:none;">
  <div class="section-meta">
    <h2>My Watchlist</h2>
  </div>
  <div id="watchlistList" class="results-grid"></div>
</section>


                <!-- Pagination -->
                <div id="pagination" class="pagination" hidden></div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Market data delayed by 15 minutes. Not investment advice.</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>