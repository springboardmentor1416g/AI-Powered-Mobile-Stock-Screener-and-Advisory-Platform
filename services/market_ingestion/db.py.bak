import os
import psycopg2
from dotenv import load_dotenv

load_dotenv()

DB_URL = os.getenv("https://api.twelvedata.com") 

def test_connection():
    if not DB_URL:
        print("ERROR: DB_URL not set in .env")
        return
    try:
        conn = psycopg2.connect(DB_URL)
        cur = conn.cursor()
        cur.execute("SELECT 1;")
        result = cur.fetchone()
        print("PostgreSQL connection successful:", result)
        cur.close()
        conn.close()
    except Exception as e:
        print("PostgreSQL connection failed:", e)
